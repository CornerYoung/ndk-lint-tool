"use strict";var _interopRequireWildcard=require("@babel/runtime-corejs2/helpers/interopRequireWildcard");var _interopRequireDefault=require("@babel/runtime-corejs2/helpers/interopRequireDefault");var _Object$defineProperty=require("@babel/runtime-corejs2/core-js/object/define-property");_Object$defineProperty(exports,"__esModule",{value:true});exports.check=void 0;var _regenerator=_interopRequireDefault(require("@babel/runtime-corejs2/regenerator"));var _stringify=_interopRequireDefault(require("@babel/runtime-corejs2/core-js/json/stringify"));var _asyncToGenerator2=_interopRequireDefault(require("@babel/runtime-corejs2/helpers/asyncToGenerator"));var _fs=_interopRequireDefault(require("fs"));var ESLint=_interopRequireWildcard(require("./eslint"));var TSLint=_interopRequireWildcard(require("./tslint"));var check=function(){var _ref=(0,_asyncToGenerator2["default"])(_regenerator["default"].mark(function _callee(options){var _options$ndkConfig,ndkConfig,_ndkConfig$language,language,packageInfo,packagePath;return _regenerator["default"].wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_options$ndkConfig=options.ndkConfig,ndkConfig=_options$ndkConfig===void 0?{}:_options$ndkConfig;_ndkConfig$language=ndkConfig.language,language=_ndkConfig$language===void 0?"":_ndkConfig$language;console.log("\u8BF7\u7A0D\u5019...");if(!(language==="es")){_context.next=8;break}_context.next=6;return ESLint.check(options);case 6:_context.next=16;break;case 8:if(!(language==="ts")){_context.next=13;break}_context.next=11;return TSLint.check(options);case 11:_context.next=16;break;case 13:console.log();console.log("[i] \u8BF7\u5728 ndk.config.js \u6587\u4EF6\u4E2D\u589E\u52A0 language: 'es' | 'ts' \u5C5E\u6027\u3002");process.exit(1);case 16:packageInfo=options.packageInfo,packagePath=options.packagePath;if(packageInfo.__updateLint===true){delete packageInfo.__updateLint;_fs["default"].writeFileSync(packagePath,"".concat((0,_stringify["default"])(packageInfo,null,2),"\n"),"utf8")}console.log("\u68C0\u67E5\u5B8C\u6210\u3002");case 19:case"end":return _context.stop();}}},_callee)}));return function check(_x){return _ref.apply(this,arguments)}}();exports.check=check;